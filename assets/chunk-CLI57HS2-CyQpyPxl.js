import{a as ie,b as ee}from"./useId-DkSsBc6l.js";import{$ as K}from"./mergeProps-BSYFvk6G.js";import{$ as le}from"./filterDOMProps-i7L6S0l1.js";import{$ as ze}from"./useFocusWithin-BGfq9Bt7.js";import{$ as Me}from"./useLabel-ChexJ59P.js";import{$ as Ae}from"./useSelectableList-C-HUiCoN.js";import{h as Fe,x as je,b as Be,u as re,r as F,j as f}from"./iframe-D8dPSlhY.js";import{$ as Le,m as Ie,a as te,b as Ne}from"./getItemCount-DvAZY6sc.js";import{a as ke}from"./useListState-CcSsqoF9.js";import{u as ae}from"./chunk-BDGLNRCW-VYLDRrAS.js";import{f as q}from"./chunk-RJKRL3AU-CzlZidxD.js";import{c as U,o as ne,r as He,d as I,m as H,i as Ee,h as Ve}from"./index-9NAC_5dS.js";import{m as ce,f as de}from"./chunk-YFAKJTDR-_llI_GAI.js";import{$ as Oe}from"./useFocusRing-vXsTo9u9.js";import{$ as ue}from"./useHover-BkGgb2Ov.js";import{$ as De}from"./usePress-u4jOjUB7.js";import{$ as Ue}from"./chain-Cz8Y3ew1.js";import{$ as oe}from"./useFocusVisible-C8HhheBG.js";import{$ as Te}from"./useSelectableItem-CUYNVVXO.js";import{u as Re}from"./index-h6rovWId.js";import{d as We}from"./chunk-IHO36JMK-CF3NjTlP.js";import{u as Ke}from"./index-DXW8tWy0.js";import{s as se}from"./chunk-NY7ORCUI-CwdcuKeP.js";const Y=new WeakMap;function qe(e){return typeof e=="string"?e.replace(/\s*/g,""):""+e}function Ye(e,t){let l=Y.get(e);if(!l)throw new Error("Unknown list");return`${l.id}-option-${qe(t)}`}function Ge(e,t,l){let i=le(e,{labelable:!0}),h=e.selectionBehavior||"toggle",r=e.linkBehavior||(h==="replace"?"action":"override");h==="toggle"&&r==="action"&&(r="override");let{listProps:o}=Ae({...e,ref:l,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,linkBehavior:r}),{focusWithinProps:a}=ze({onFocusWithin:e.onFocus,onBlurWithin:e.onBlur,onFocusWithinChange:e.onFocusChange}),m=ie(e.id);Y.set(t,{id:m,shouldUseVirtualFocus:e.shouldUseVirtualFocus,shouldSelectOnPressUp:e.shouldSelectOnPressUp,shouldFocusOnHover:e.shouldFocusOnHover,isVirtualized:e.isVirtualized,onAction:e.onAction,linkBehavior:r,UNSTABLE_itemBehavior:e.UNSTABLE_itemBehavior});let{labelProps:s,fieldProps:$}=Me({...e,id:m,labelElementType:"span"});return{labelProps:s,listBoxProps:K(i,a,t.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...K($,o)})}}function Je(e,t,l){var i,h;let{key:r}=e,o=Y.get(t);var a;let m=(a=e.isDisabled)!==null&&a!==void 0?a:t.selectionManager.isDisabled(r);var s;let $=(s=e.isSelected)!==null&&s!==void 0?s:t.selectionManager.isSelected(r);var y;let _=(y=e.shouldSelectOnPressUp)!==null&&y!==void 0?y:o?.shouldSelectOnPressUp;var v;let x=(v=e.shouldFocusOnHover)!==null&&v!==void 0?v:o?.shouldFocusOnHover;var n;let u=(n=e.shouldUseVirtualFocus)!==null&&n!==void 0?n:o?.shouldUseVirtualFocus;var c;let g=(c=e.isVirtualized)!==null&&c!==void 0?c:o?.isVirtualized,P=ee(),S=ee(),b={role:"option","aria-disabled":m||void 0,"aria-selected":t.selectionManager.selectionMode!=="none"?$:void 0};Fe()&&je()||(b["aria-label"]=e["aria-label"],b["aria-labelledby"]=P,b["aria-describedby"]=S);let p=t.collection.getItem(r);if(g){let d=Number(p?.index);b["aria-posinset"]=Number.isNaN(d)?void 0:d+1,b["aria-setsize"]=Le(t.collection)}let C=o?.onAction?()=>{var d;return o==null||(d=o.onAction)===null||d===void 0?void 0:d.call(o,r)}:void 0,z=Ye(t,r),{itemProps:j,isPressed:M,isFocused:B,hasAction:A,allowsSelection:N}=Te({selectionManager:t.selectionManager,key:r,ref:l,shouldSelectOnPressUp:_,allowsDifferentPressOrigin:_&&x,isVirtualized:g,shouldUseVirtualFocus:u,isDisabled:m,onAction:C||!(p==null||(i=p.props)===null||i===void 0)&&i.onAction?Ue(p==null||(h=p.props)===null||h===void 0?void 0:h.onAction,C):void 0,linkBehavior:o?.linkBehavior,UNSTABLE_itemBehavior:o?.UNSTABLE_itemBehavior,id:z}),{hoverProps:O}=ue({isDisabled:m||!x,onHoverStart(){oe()||(t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(r))}}),w=le(p?.props);delete w.id;let k=Be(p?.props);return{optionProps:{...b,...K(w,j,O,k),id:z},labelProps:{id:P},descriptionProps:{id:S},isFocused:B,isFocusVisible:B&&t.selectionManager.isFocused&&oe(),isSelected:$,isDisabled:m,isPressed:M,allowsSelection:N,hasAction:A}}function Qe(e){let{heading:t,"aria-label":l}=e,i=ie();return{itemProps:{role:"presentation"},headingProps:t?{id:i,role:"presentation"}:{},groupProps:{role:"group","aria-label":l,"aria-labelledby":t?i:void 0}}}function Xe(e){var t;const l=re(),{ref:i,as:h,state:r,variant:o,color:a,onAction:m,children:s,onSelectionChange:$,disableAnimation:y=(t=l?.disableAnimation)!=null?t:!1,itemClasses:_,className:v,topContent:x,bottomContent:n,emptyContent:u="No items.",hideSelectedIcon:c=!1,hideEmptyContent:g=!1,shouldHighlightOnFocus:P=!1,classNames:S,...b}=e,p=h||"ul",C=typeof p=="string",z=ae(i),j=ke({...e,children:s,onSelectionChange:$}),M=r||j,{listBoxProps:B}=Ge({...e,onAction:m},M,z),A=F.useMemo(()=>Ie(),[]),N=U(S?.base,v);return{Component:p,state:M,variant:o,color:a,slots:A,classNames:S,topContent:x,bottomContent:n,emptyContent:u,hideEmptyContent:g,shouldHighlightOnFocus:P,hideSelectedIcon:c,disableAnimation:y,className:v,itemClasses:_,getBaseProps:(d={})=>({ref:z,"data-slot":"base",className:A.base({class:N}),...q(b,{enabled:C}),...d}),getListProps:(d={})=>({"data-slot":"list",className:A.list({class:S?.list}),...B,...d}),getEmptyContentProps:(d={})=>({"data-slot":"empty-content",children:u,className:A.emptyContent({class:S?.emptyContent}),...d})}}function Ze(e){const{isSelected:t,disableAnimation:l,...i}=e;return f.jsx("svg",{"aria-hidden":"true","data-selected":t,role:"presentation",viewBox:"0 0 17 18",...i,children:f.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:t?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:l?{}:{transition:"stroke-dashoffset 200ms ease"}})})}function et(e){var t,l;const i=re(),[h,r]=ce(e,te.variantKeys),{as:o,item:a,state:m,description:s,startContent:$,endContent:y,isVirtualized:_,selectedIcon:v,className:x,classNames:n,autoFocus:u,onPress:c,onPressUp:g,onPressStart:P,onPressEnd:S,onPressChange:b,onClick:p,shouldHighlightOnFocus:C,hideSelectedIcon:z=!1,isReadOnly:j=!1,...M}=h,B=(l=(t=e.disableAnimation)!=null?t:i?.disableAnimation)!=null?l:!1,A=F.useRef(null),N=o||(e.href?"a":"li"),O=typeof N=="string",{rendered:w,key:k}=a,d=m.disabledKeys.has(k)||e.isDisabled,E=m.selectionManager.selectionMode!=="none",T=Re(),{pressProps:D,isPressed:J}=De({ref:A,isDisabled:d,onClick:p,onPress:c,onPressUp:g,onPressStart:P,onPressEnd:S,onPressChange:b}),{isHovered:Q,hoverProps:be}=ue({isDisabled:d}),{isFocusVisible:X,focusProps:ve}=Oe({autoFocus:u}),{isFocused:R,isSelected:Z,optionProps:me,labelProps:ge,descriptionProps:xe}=Je({key:k,isDisabled:d,"aria-label":h["aria-label"],isVirtualized:_},m,A);let W=me;const V=F.useMemo(()=>te({...r,isDisabled:d,disableAnimation:B,hasTitleTextChild:typeof w=="string",hasDescriptionTextChild:typeof s=="string"}),[ne(r),d,B,w,s]),$e=U(n?.base,x);j&&(W=He(W));const Pe=C&&R||(T?Q||J:Q||R&&!X),Se=(L={})=>({ref:A,...H(W,j?{}:H(ve,D),be,q(M,{enabled:O}),L),"data-selectable":I(E),"data-focus":I(R),"data-hover":I(Pe),"data-disabled":I(d),"data-selected":I(Z),"data-pressed":I(J),"data-focus-visible":I(X),className:V.base({class:U($e,L.className)})}),ye=(L={})=>({...H(ge,L),"data-label":I(!0),className:V.title({class:n?.title})}),Ce=(L={})=>({...H(xe,L),className:V.description({class:n?.description})}),_e=(L={})=>({...H(L),className:V.wrapper({class:n?.wrapper})}),we=F.useCallback((L={})=>({"aria-hidden":I(!0),"data-disabled":I(d),className:V.selectedIcon({class:n?.selectedIcon}),...L}),[d,V,n]);return{Component:N,domRef:A,slots:V,classNames:n,isSelectable:E,isSelected:Z,isDisabled:d,rendered:w,description:s,startContent:$,endContent:y,selectedIcon:v,hideSelectedIcon:z,disableAnimation:B,getItemProps:Se,getLabelProps:ye,getWrapperProps:_e,getDescriptionProps:Ce,getSelectedIconProps:we}}var pe=e=>{const{Component:t,rendered:l,description:i,isSelectable:h,isSelected:r,isDisabled:o,selectedIcon:a,startContent:m,endContent:s,hideSelectedIcon:$,disableAnimation:y,getItemProps:_,getLabelProps:v,getWrapperProps:x,getDescriptionProps:n,getSelectedIconProps:u}=et(e),c=F.useMemo(()=>{const g=f.jsx(Ze,{disableAnimation:y,isSelected:r});return typeof a=="function"?a({icon:g,isSelected:r,isDisabled:o}):a||g},[a,r,o,y]);return f.jsxs(t,{..._(),children:[m,i?f.jsxs("div",{...x(),children:[f.jsx("span",{...v(),children:l}),f.jsx("span",{...n(),children:i})]}):f.jsx("span",{...v(),children:l}),h&&!$&&f.jsx("span",{...u(),children:c}),s]})};pe.displayName="HeroUI.ListboxItem";var G=pe,fe=de(({item:e,state:t,as:l,variant:i,color:h,disableAnimation:r,className:o,classNames:a,hideSelectedIcon:m,showDivider:s=!1,dividerProps:$={},itemClasses:y,title:_,items:v,...x},n)=>{const u=l||"li",c=F.useMemo(()=>Ne(),[]),g=U(a?.base,o),P=U(a?.divider,$?.className),{itemProps:S,headingProps:b,groupProps:p}=Qe({heading:e.rendered,"aria-label":e["aria-label"]});return f.jsxs(u,{"data-slot":"base",...H(S,x),className:c.base({class:g}),children:[e.rendered&&f.jsx("span",{...b,className:c.heading({class:a?.heading}),"data-slot":"heading",children:e.rendered}),f.jsxs("ul",{...p,className:c.group({class:a?.group}),"data-has-title":!!e.rendered,"data-slot":"group",children:[[...e.childNodes].map(C=>{const{key:z,props:j}=C;let M=f.jsx(G,{classNames:y,color:h,disableAnimation:r,hideSelectedIcon:m,item:C,state:t,variant:i,...j},z);return C.wrapper&&(M=C.wrapper(M)),M}),s&&f.jsx(We,{as:"li",className:c.divider({class:P}),...$})]})]},e.key)});fe.displayName="HeroUI.ListboxSection";var he=fe;function tt(e={}){const{domRef:t,isEnabled:l=!0,overflowCheck:i="vertical",visibility:h="auto",offset:r=0,onVisibilityChange:o,updateDeps:a=[]}=e,m=F.useRef(h);F.useEffect(()=>{const s=t?.current;if(!s||!l)return;const $=(v,x,n,u,c)=>{if(h==="auto"){const g=`${u}${Ve(c)}Scroll`;x&&n?(s.dataset[g]="true",s.removeAttribute(`data-${u}-scroll`),s.removeAttribute(`data-${c}-scroll`)):(s.dataset[`${u}Scroll`]=x.toString(),s.dataset[`${c}Scroll`]=n.toString(),s.removeAttribute(`data-${u}-${c}-scroll`))}else{const g=x&&n?"both":x?u:n?c:"none";g!==m.current&&(o?.(g),m.current=g)}},y=()=>{var v,x;const n=[{type:"vertical",prefix:"top",suffix:"bottom"},{type:"horizontal",prefix:"left",suffix:"right"}],u=s.querySelector('ul[data-slot="list"]'),c=+((v=u?.getAttribute("data-virtual-scroll-height"))!=null?v:s.scrollHeight),g=+((x=u?.getAttribute("data-virtual-scroll-top"))!=null?x:s.scrollTop);for(const{type:P,prefix:S,suffix:b}of n)if(i===P||i==="both"){const p=P==="vertical"?g>r:s.scrollLeft>r,C=P==="vertical"?g+s.clientHeight+r<c:s.scrollLeft+s.clientWidth+r<s.scrollWidth;$(P,p,C,S,b)}},_=()=>{["top","bottom","top-bottom","left","right","left-right"].forEach(v=>{s.removeAttribute(`data-${v}-scroll`)})};return y(),s.addEventListener("scroll",y,!0),h!=="auto"&&(_(),h==="both"?(s.dataset.topBottomScroll=String(i==="vertical"),s.dataset.leftRightScroll=String(i==="horizontal")):(s.dataset.topBottomScroll="false",s.dataset.leftRightScroll="false",["top","bottom","left","right"].forEach(v=>{s.dataset[`${v}Scroll`]=String(h===v)}))),()=>{s.removeEventListener("scroll",y,!0),_()}},[...a,l,h,i,o,t])}function ot(e){var t;const[l,i]=ce(e,se.variantKeys),{ref:h,as:r,children:o,className:a,style:m,size:s=40,offset:$=0,visibility:y="auto",isEnabled:_=!0,onVisibilityChange:v,...x}=l,n=r||"div",u=ae(h);tt({domRef:u,offset:$,visibility:y,isEnabled:_,onVisibilityChange:v,updateDeps:[o],overflowCheck:(t=e.orientation)!=null?t:"vertical"});const c=F.useMemo(()=>se({...i,className:a}),[ne(i),a]);return{Component:n,styles:c,domRef:u,children:o,getBaseProps:(P={})=>{var S;return{ref:u,className:c,"data-orientation":(S=e.orientation)!=null?S:"vertical",style:{"--scroll-shadow-size":`${s}px`,...m,...P.style},...x,...P}}}}var st=(e,t)=>{const l=[];for(const i of e)i.type==="section"?l.push(([...i.childNodes].length+1)*t):l.push(t);return l},it=e=>{if(!e||e.scrollTop===void 0||e.clientHeight===void 0||e.scrollHeight===void 0)return{isTop:!1,isBottom:!1,isMiddle:!1};const t=e.scrollTop===0,l=Math.ceil(e.scrollTop+e.clientHeight)>=e.scrollHeight;return{isTop:t,isBottom:l,isMiddle:!t&&!l}},lt=e=>{var t;const{Component:l,state:i,color:h,variant:r,itemClasses:o,getBaseProps:a,topContent:m,bottomContent:s,hideEmptyContent:$,hideSelectedIcon:y,shouldHighlightOnFocus:_,disableAnimation:v,getEmptyContentProps:x,getListProps:n,scrollShadowProps:u}=e,{virtualization:c}=e;if(!c||!Ee(c)&&!c.maxListboxHeight&&!c.itemHeight)throw new Error("You are using a virtualized listbox. VirtualizedListbox requires 'virtualization' props with 'maxListboxHeight' and 'itemHeight' properties. This error might have originated from autocomplete components that use VirtualizedListbox. Please provide these props to use the virtualized listbox.");const{maxListboxHeight:g,itemHeight:P}=c,S=Math.min(g,P*i.collection.size),b=F.useRef(null),p=F.useMemo(()=>st([...i.collection],P),[i.collection,P]),C=Ke({count:[...i.collection].length,getScrollElement:()=>b.current,estimateSize:w=>p[w]}),z=C.getVirtualItems(),j=C.getTotalSize(),{getBaseProps:M}=ot({...u}),B=w=>{var k;const d=[...i.collection][w.index];if(!d)return null;const E={color:h,item:d,state:i,variant:r,disableAnimation:v,hideSelectedIcon:y,...d.props},T={position:"absolute",top:0,left:0,width:"100%",height:`${w.size}px`,transform:`translateY(${w.start}px)`};if(d.type==="section")return f.jsx(he,{...E,itemClasses:o,style:{...T,...E.style}},d.key);let D=f.jsx(G,{...E,classNames:H(o,(k=d.props)==null?void 0:k.classNames),shouldHighlightOnFocus:_,style:{...T,...E.style}},d.key);return d.wrapper&&(D=d.wrapper(D)),D},[A,N]=F.useState({isTop:!1,isBottom:!0,isMiddle:!1}),O=f.jsxs(l,{...n(),"data-virtual-scroll-height":j,"data-virtual-scroll-top":(t=b?.current)==null?void 0:t.scrollTop,children:[!i.collection.size&&!$&&f.jsx("li",{children:f.jsx("div",{...x()})}),f.jsx("div",{...q(M()),ref:b,style:{height:g,overflow:"auto"},onScroll:w=>{N(it(w.target))},children:S>0&&P>0&&f.jsx("div",{style:{height:`${j}px`,width:"100%",position:"relative"},children:z.map(w=>B(w))})})]});return f.jsxs("div",{...a(),children:[m,O,s]})},rt=lt,at=de(function(t,l){const{isVirtualized:i,...h}=t,r=Xe({...h,ref:l}),{Component:o,state:a,color:m,variant:s,itemClasses:$,getBaseProps:y,topContent:_,bottomContent:v,hideEmptyContent:x,hideSelectedIcon:n,shouldHighlightOnFocus:u,disableAnimation:c,getEmptyContentProps:g,getListProps:P}=r;if(i)return f.jsx(rt,{...t,...r});const S=f.jsxs(o,{...P(),children:[!a.collection.size&&!x&&f.jsx("li",{children:f.jsx("div",{...g()})}),[...a.collection].map(b=>{var p;const C={color:m,item:b,state:a,variant:s,disableAnimation:c,hideSelectedIcon:n,...b.props};if(b.type==="section")return f.jsx(he,{...C,itemClasses:$},b.key);let z=f.jsx(G,{...C,classNames:H($,(p=b.props)==null?void 0:p.classNames),shouldHighlightOnFocus:u},b.key);return b.wrapper&&(z=b.wrapper(z)),z})]});return f.jsxs("div",{...y(),children:[_,S,v]})}),jt=at;export{Y as $,Ye as a,jt as l};
