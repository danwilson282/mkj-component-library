import{$ as m}from"./usePress-u4jOjUB7.js";import{a as b}from"./utils-U1MD0fLI.js";import{$ as g}from"./mergeProps-BSYFvk6G.js";import{r as P,i as x}from"./iframe-D8dPSlhY.js";import{a as L}from"./useFocusWithin-BGfq9Bt7.js";import{$ as y}from"./useDescription-CifI5LmI.js";const T=500;function w(p){let{isDisabled:o,onLongPressStart:n,onLongPressEnd:s,onLongPress:r,threshold:c=T,accessibilityDescription:d}=p;const t=P.useRef(void 0);let{addGlobalListener:a,removeGlobalListener:f}=L(),{pressProps:l}=m({isDisabled:o,onPressStart(e){if(e.continuePropagation(),(e.pointerType==="mouse"||e.pointerType==="touch")&&(n&&n({...e,type:"longpressstart"}),t.current=setTimeout(()=>{e.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),b(e.target).activeElement!==e.target&&x(e.target),r&&r({...e,type:"longpress"}),t.current=void 0},c),e.pointerType==="touch")){let i=$=>{$.preventDefault()};a(e.target,"contextmenu",i,{once:!0}),a(window,"pointerup",()=>{setTimeout(()=>{f(e.target,"contextmenu",i)},30)},{once:!0})}},onPressEnd(e){t.current&&clearTimeout(t.current),s&&(e.pointerType==="mouse"||e.pointerType==="touch")&&s({...e,type:"longpressend"})}}),u=y(r&&!o?d:void 0);return{longPressProps:g(l,u)}}export{w as $};
